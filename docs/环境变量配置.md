# 环境变量配置说明

## 概述
项目使用 Vite 的环境变量系统来管理不同环境下的配置。

## 环境变量文件
在项目根目录创建以下文件：

### 1. `.env.local` (本地开发，优先级最高)
```bash
# 本地开发环境配置
VITE_BASE_API=http://localhost:3000/api
VITE_APP_TITLE=startkit-vue (本地开发)
VITE_PORT=5173
VITE_USE_MOCK=true
VITE_DEBUG=true
```

### 2. `.env.development` (开发环境)
```bash
# 开发环境配置
VITE_BASE_API=http://dev-api.example.com/api
VITE_APP_TITLE=startkit-vue (开发环境)
VITE_PORT=5173
VITE_USE_MOCK=true
VITE_DEBUG=true
```

### 3. `.env.production` (生产环境)
```bash
# 生产环境配置
VITE_BASE_API=https://api.example.com/api
VITE_APP_TITLE=startkit-vue
VITE_USE_MOCK=false
VITE_DEBUG=false
```

## 环境变量说明

| 变量名 | 说明 | 默认值 | 示例 |
|--------|------|--------|------|
| `VITE_BASE_API` | API 基础地址 | 开发：`http://localhost:3000/api`<br>生产：`/api` | `https://api.example.com/api` |
| `VITE_APP_TITLE` | 应用标题 | `startkit-vue` | `我的应用` |
| `VITE_PORT` | 开发服务器端口 | `5173` | `3000` |
| `VITE_USE_MOCK` | 是否启用 Mock | 开发：`true`<br>生产：`false` | `true` |
| `VITE_DEBUG` | 调试模式 | 开发：`true`<br>生产：`false` | `false` |

## 使用方法

### 1. 创建环境文件
在项目根目录创建 `.env.local` 文件：
```bash
# 复制并修改以下内容
VITE_BASE_API=http://localhost:3000/api
VITE_APP_TITLE=startkit-vue
VITE_PORT=5173
VITE_USE_MOCK=true
```

### 2. 在代码中使用
```typescript
// 获取环境变量
const baseAPI = import.meta.env.VITE_BASE_API
const appTitle = import.meta.env.VITE_APP_TITLE
const useModal = import.meta.env.VITE_USE_MOCK === 'true'
```

### 3. TypeScript 类型支持
在 `src/vite-env.d.ts` 中添加类型定义：
```typescript
/// <reference types="vite/client" />

interface ImportMetaEnv {
  readonly VITE_BASE_API: string
  readonly VITE_APP_TITLE: string
  readonly VITE_PORT: string
  readonly VITE_USE_MOCK: string
  readonly VITE_DEBUG: string
}

interface ImportMeta {
  readonly env: ImportMetaEnv
}
```

## 注意事项

1. **环境变量必须以 `VITE_` 开头**，否则不会被 Vite 处理
2. **敏感信息不要放在环境变量中**，因为客户端可以访问
3. **环境文件优先级**：`.env.local` > `.env.[mode]` > `.env`
4. **记得将 `.env.local` 添加到 `.gitignore`** 中
5. **如果没有环境文件，项目会使用 `vite.config.ts` 中的默认值**

## 快速开始

如果你不想创建环境文件，项目已经配置了合理的默认值：
- 开发环境：API 地址为 `http://localhost:3000/api`
- 生产环境：API 地址为 `/api`（相对路径）
- 端口：`5173`
- 开发环境启用 Mock，生产环境禁用

直接运行 `npm run dev` 即可开始开发！
