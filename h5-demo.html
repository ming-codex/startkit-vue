<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>动态生成列表与回弹 Demo</title>
    <style>
      /* ------------------------------------- */
      /* 1. Flexbox 实现全屏布局和自适应高度 */
      /* ------------------------------------- */

      /* 确保 html 和 body 占据整个视口高度 */
      html,
      body {
        height: 100%;
        margin: 0;
        font-family: Arial, sans-serif;
      }

      /* 将最外层的 .container 设置为 Flex 容器 */
      .container {
        display: flex;
        flex-direction: column; /* 垂直堆叠子元素 */
        height: 100%; /* 占据整个 body 高度 */
        padding: 10px;
        box-sizing: border-box;
        background-color: #f4f4f4;
      }

      /* 标题区域：固定高度 */
      h1 {
        text-align: center;
        color: #333;
        padding: 10px 0;
        margin-top: 0;
        flex-shrink: 0;
      }

      /* 列表容器：占据剩余的可用空间，并启用滚动 */
      .list-container {
        flex-grow: 1; /* 核心：占据所有剩余空间 */
        overflow-y: scroll; /* 启用垂直滚动 */

        border: 1px solid #ccc;
        background-color: white;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

        /* ------------------------------------- */
        /* 2. 核心 Overscroll-behavior 实现回弹 */
        /* ------------------------------------- */
        overscroll-behavior-y: contain; /* 阻止列表滚动到底后，页面继续滚动 */
      }

      /* 3. 禁用全局页面的滚动回弹（可选，但推荐） */
      body {
        overscroll-behavior-y: none;
      }

      /* ------------------------------------- */
      /* 4. 列表美化样式 */
      /* ------------------------------------- */

      .list-item {
        padding: 15px 20px;
        border-bottom: 1px solid #eee;
        font-size: 16px;
        color: #555;
        min-height: 30px; /* 使用 min-height 以确保内容足够高 */
        line-height: 30px;
        box-sizing: border-box;
      }

      .list-item:nth-child(even) {
        background-color: #f9f9f9;
      }

      .list-item:last-child {
        border-bottom: none;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Overscroll 列表回弹演示 (50条动态数据)</h1>

      <div class="list-container" id="listContainer"></div>
    </div>

    <script>
      /**
       * JavaScript: 动态生成列表项目
       */
      document.addEventListener("DOMContentLoaded", () => {
        const listContainer = document.getElementById("listContainer");
        const itemCount = 50; // 指定要生成的项目数量
        let htmlContent = "";

        // 使用循环生成列表项的 HTML 字符串
        for (let i = 1; i <= itemCount; i++) {
          // 根据索引号区分奇偶，方便 CSS 样式应用
          const isEven = i % 2 === 0 ? "even" : "odd";

          let text = `列表项 ${i}`;
          if (i === 1) {
            text += " - 顶部";
          } else if (i === itemCount) {
            text += " - 底部";
          }

          htmlContent += `<div class="list-item ${isEven}">${text}</div>`;
        }

        // 一次性将所有生成的 HTML 插入到容器中，提高性能
        listContainer.innerHTML = htmlContent;

        console.log(`成功生成了 ${itemCount} 条列表项目。`);
      });
    </script>
  </body>
</html>
