import{f,c as D,M as x,L as M,d as R,h as I,N as B,O as V,P as A,i as g,o as k,j as n,e as p,w as v,r as E,t as H,b as O,T as j,y as L,Q as z,R as N,p as U,s as W}from"./vendor-BP6fkksb.js";import{_ as b,a as $}from"./index-D9sVnkUo.js";const y=Object.assign({"../../README.md":()=>b(()=>import("./README-mrskazLz.js"),[],import.meta.url).then(e=>e.default),"../../docs/VS Code 配置+ESLint+Prettier.md":()=>b(()=>import("./VS Code 配置_ESLint_Prettier-Bp5VCqw5.js"),[],import.meta.url).then(e=>e.default),"../../docs/环境变量配置.md":()=>b(()=>import("./环境变量配置-D4N4-3b-.js"),[],import.meta.url).then(e=>e.default)});function q(e){const t=e.split(/\r?\n/);for(const s of t){const r=/^\s*#\s+(.+)\s*$/.exec(s);if(r)return r[1].trim()}return"Untitled"}function C(e){let t=e;return e.startsWith("../markdown/")?t=e.replace(/^\.\.\/markdown\//,""):e.startsWith("../docs/")?t=e.replace(/^\.\.\/docs\//,""):e.startsWith("../../")?t=e.replace(/^\.\.\/\.\.\//,""):e.startsWith("../")&&(t=e.replace(/^\.\.\//,"")),t.replace(/\.md$/,"")}function F(){const e=f([]),t=f(!1);console.log(y,"---markdownModules");let s=null,r=0;const a=new Map;Object.entries(y).forEach(([c,i])=>{a.set(C(c),i)});async function m(){if(!(e.value.length>0||t.value)){t.value=!0;try{const c=Object.entries(y).map(async([d,o])=>{const h=await o();return{slug:C(d),title:q(h),path:d}}),i=await Promise.all(c);e.value=i.sort((d,o)=>d.title.localeCompare(o.title,"zh"))}finally{t.value=!1}}}const l=D(()=>{if(s&&e.value.length===r)return s;const c=new Map;for(const i of e.value)c.set(i.slug,i);return s=c,r=e.value.length,c});async function _(c){const i=a.get(c);return i?await i():null}return{docs:e,bySlug:l,getContentBySlug:_,loadDocs:m,loading:t}}let w=null;function J(){return w||(w=new x({html:!0,linkify:!0,breaks:!1,typographer:!0,highlight(e,t){if(t&&M.getLanguage(t))try{return`<pre class="hljs"><code>${M.highlight(e,{language:t,ignoreIllegals:!0}).value}</code></pre>`}catch{}return`<pre class="hljs"><code>${w.utils.escapeHtml(e)}</code></pre>`}})),w}const u=new Map,K=50;function P(){const e=J();function t(r,a){if(u.has(a)){const l=u.get(a);return u.delete(a),u.set(a,l),l}const m=r?e.render(r):"<p>Document not found.</p>";if(u.set(a,m),u.size>K){const l=u.keys().next().value;l&&u.delete(l)}return m}function s(){u.clear()}return{renderMarkdown:t,clearCache:s}}const Q={class:"doc-detail"},X={class:"header"},Y={class:"header-content"},Z={class:"breadcrumb"},G={class:"breadcrumb-current"},ee={class:"actions"},te={class:"container"},oe={class:"content"},ne={key:0,class:"loading-state"},se=["innerHTML"],ae=R({__name:"DocDetailView",setup(e){const t=V(),s=F(),{renderMarkdown:r}=P(),a=f(""),m=f(!1),l=f(!1);I(()=>{s.docs.value.length===0&&s.loadDocs(),window.addEventListener("scroll",_)}),B(()=>{window.removeEventListener("scroll",_)});function _(){l.value=window.scrollY>300}function c(){window.scrollTo({top:0,behavior:"smooth"})}const i=D(()=>{const d=String(t.params.slug||"");return s.bySlug.value.get(d)?.title||"Document not found"});return A(()=>t.params.slug,async d=>{if(d){m.value=!0;try{const o=await s.getContentBySlug(String(d));a.value=r(o||"",String(d))}catch(o){console.error("Failed to load document:",o),a.value="<p>Failed to load document.</p>"}finally{m.value=!1}}},{immediate:!0}),(d,o)=>{const h=E("RouterLink"),S=E("ArrowUp"),T=U;return k(),g("div",Q,[n("div",X,[n("div",Y,[n("div",Z,[p(h,{to:"/",class:"breadcrumb-link"},{default:v(()=>[...o[0]||(o[0]=[n("svg",{viewBox:"0 0 16 16",width:"16",height:"16"},[n("path",{fill:"currentColor",d:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z"})],-1),L(" 首页 ",-1)])]),_:1}),o[1]||(o[1]=n("span",{class:"breadcrumb-separator"},"/",-1)),n("span",G,H(i.value),1)]),n("div",ee,[p(h,{class:"btn btn-primary",to:{name:"home",query:O(t).query}},{default:v(()=>[...o[2]||(o[2]=[n("svg",{viewBox:"0 0 16 16",width:"16",height:"16"},[n("path",{fill:"currentColor",d:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z"})],-1),L(" Back to Home ",-1)])]),_:1},8,["to"])])])]),n("div",te,[n("div",oe,[m.value?(k(),g("div",ne,[...o[3]||(o[3]=[n("div",{class:"loading-spinner"},null,-1),n("p",null,"Loading document...",-1)])])):(k(),g("article",{key:1,class:"markdown-body",innerHTML:a.value},null,8,se))])]),p(j,{name:"fade"},{default:v(()=>[z(n("button",{onClick:c,class:W(["back-to-top",{"back-to-top--visible":l.value}]),"aria-label":"回到顶部",title:"回到顶部"},[p(T,{class:"back-to-top-icon"},{default:v(()=>[p(S)]),_:1})],2),[[N,l.value]])]),_:1})])}}}),ce=$(ae,[["__scopeId","data-v-ecbdab5f"]]);export{ce as default};
