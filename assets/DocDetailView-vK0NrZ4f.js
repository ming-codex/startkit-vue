import{p as h,e as M,P as D,Q as g,R as T,S as C,T as E,U as B,V as S,f as j,q as H,v as R,W as I,X as V,x as v,o as w,y as o,k as y,w as k,r as $,B as z,i as A,Y as O,J as b,Z as P,_ as q,A as N}from"./vendor-Cmrxakgb.js";import{_ as U,a as F}from"./index-BJk4olV4.js";const x=Object.assign({"../../README.md":()=>U(()=>import("./README-mrskazLz.js"),[],import.meta.url).then(t=>t.default)});function J(t){const e=t.split(/\r?\n/);for(const n of e){const u=/^\s*#\s+(.+)\s*$/.exec(n);if(u)return u[1].trim()}return"Untitled"}function L(t){let e=t;return t.startsWith("../../")&&(e=t.replace(/^\.\.\/\.\.\//,"")),e.replace(/\.md$/,"")}function W(){const t=h([]),e=h(!1);let n=null,u=0;const s=new Map;Object.entries(x).forEach(([l,i])=>{s.set(L(l),i)});async function p(){if(!(t.value.length>0||e.value)){e.value=!0;try{const l=Object.entries(x).map(async([c,a])=>{const f=await a();return{slug:L(c),title:J(f),path:c}}),i=await Promise.all(l);t.value=i.sort((c,a)=>c.title.localeCompare(a.title,"zh"))}finally{e.value=!1}}}const r=M(()=>{if(n&&t.value.length===u)return n;const l=new Map;for(const i of t.value)l.set(i.slug,i);return n=l,u=t.value.length,l});async function m(l){const i=s.get(l);return i?await i():null}return{docs:t,bySlug:r,getContentBySlug:m,loadDocs:p,loading:e}}g.registerLanguage("typescript",T);g.registerLanguage("javascript",C);g.registerLanguage("js",C);g.registerLanguage("json",E);g.registerLanguage("css",B);g.registerLanguage("html",S);g.registerLanguage("xml",S);let _=null;function X(){return _||(_=new D({html:!0,linkify:!0,breaks:!1,typographer:!0,highlight(t,e){if(e&&g.getLanguage(e))try{return`<pre class="hljs"><code class="language-${e}">${g.highlight(t,{language:e,ignoreIllegals:!0}).value}</code></pre>`}catch{}const n=_.utils.escapeHtml(t);return`<pre class="hljs"><code${e?` class="language-${e}"`:""}>${n}</code></pre>`}})),_}const d=new Map,Y=50;function Z(){const t=X();function e(u,s){if(d.has(s)){const r=d.get(s);return d.delete(s),d.set(s,r),r}const p=u?t.render(u):"<p>Document not found.</p>";if(d.set(s,p),d.size>Y){const r=d.keys().next().value;r&&d.delete(r)}return p}function n(){d.clear()}return{renderMarkdown:e,clearCache:n}}const K={class:"doc-detail"},Q={class:"header"},G={class:"header-content"},ee={class:"breadcrumb"},te={class:"breadcrumb-current"},ae={class:"actions"},oe={class:"container"},ne={class:"content"},se={key:0,class:"loading-state"},re=["innerHTML"],le={class:"back-to-top-icon",viewBox:"0 0 16 16",fill:"currentColor",style:{width:"18px",height:"18px"}},ie=j({__name:"DocDetailView",setup(t){const e=I(),n=W(),{renderMarkdown:u}=Z(),s=h(""),p=h(!1),r=h(!1);H(()=>{n.docs.value.length===0&&n.loadDocs(),window.addEventListener("scroll",m)}),R(()=>{window.removeEventListener("scroll",m)});function m(){r.value=window.scrollY>300}function l(){window.scrollTo({top:0,behavior:"smooth"})}const i=M(()=>{const c=String(e.params.slug||"");return n.bySlug.value.get(c)?.title||"Document not found"});return V(()=>e.params.slug,async c=>{if(c){p.value=!0;try{const a=await n.getContentBySlug(String(c));s.value=await u(a||"",String(c))}catch(a){console.error("Failed to load document:",a),s.value="<p>Failed to load document.</p>"}finally{p.value=!1}}},{immediate:!0}),(c,a)=>{const f=$("RouterLink");return w(),v("div",K,[o("div",Q,[o("div",G,[o("div",ee,[y(f,{to:"/",class:"breadcrumb-link"},{default:k(()=>[...a[0]||(a[0]=[o("svg",{viewBox:"0 0 16 16",width:"16",height:"16"},[o("path",{fill:"currentColor",d:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z"})],-1),b(" 首页 ",-1)])]),_:1}),a[1]||(a[1]=o("span",{class:"breadcrumb-separator"},"/",-1)),o("span",te,z(i.value),1)]),o("div",ae,[y(f,{class:"btn btn-primary",to:{name:"home",query:A(e).query}},{default:k(()=>[...a[2]||(a[2]=[o("svg",{viewBox:"0 0 16 16",width:"16",height:"16"},[o("path",{fill:"currentColor",d:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z"})],-1),b(" Back to Home ",-1)])]),_:1},8,["to"])])])]),o("div",oe,[o("div",ne,[p.value?(w(),v("div",se,[...a[3]||(a[3]=[o("div",{class:"loading-spinner"},null,-1),o("p",null,"Loading document...",-1)])])):(w(),v("article",{key:1,class:"markdown-body",innerHTML:s.value},null,8,re))])]),y(O,{name:"fade"},{default:k(()=>[P(o("button",{onClick:l,class:N(["back-to-top",{"back-to-top--visible":r.value}]),"aria-label":"回到顶部",title:"回到顶部"},[(w(),v("svg",le,[...a[4]||(a[4]=[o("path",{d:"M8.22 2.97a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.75.75 0 0 1-1.06-1.06l2.97-2.97H3.75a.75.75 0 0 1 0-1.5h7.44L8.22 4.03a.75.75 0 0 1 0-1.06z",transform:"rotate(270 8 8)"},null,-1)])]))],2),[[q,r.value]])]),_:1})])}}}),de=F(ie,[["__scopeId","data-v-c0a39ed5"]]);export{de as default};
